<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>js&&time &#8211; C1AVIE</title>
<meta name="description" content="Technology is a great servant but a terrible master.">
<meta name="keywords" content="">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/omikron.png">
<meta name="twitter:title" content="js&&time">
<meta name="twitter:description" content="Technology is a great servant but a terrible master.">
<meta name="twitter:creator" content="@c1avie">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="js&&time">
<meta property="og:description" content="Technology is a great servant but a terrible master.">
<meta property="og:url" content="/fe/jstime">
<meta property="og:site_name" content="C1AVIE">
<meta property="og:image" content="/images/default_bg1.jpg">





<link rel="canonical" href="/fe/jstime">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search...">
        <i class="icon-remove-sign"></i>
        <ul class="search-results post-list"></ul><!-- /.search-results -->
    </div><!-- /.search-form -->
</div><!-- ./search-wrapper -->




<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>
<body class="post-template" itemscope itemtype="http://schema.org/WebPage">  
<div id="fade"></div>
<a id="slide" class="animated fade"></a>
<aside id="sidebar">
    <nav id="navigation">
    <h2>MENU</h2>
    <hr>

            <li>
                    <a href="/">Home</a>
                 </li>

            <li>
                    <a href="/categories">Categories</a>
                 </li>

            <li>
                    <a href="/tags">Tags</a>
                 </li>

            <li>
                    <a href="/about-me">c1avie who?</a>
                 </li>
            
    </nav>
    
    
</aside>

<header id="masthead" class="blog-background overlay align-center align-middle animated from-bottom"  style="background-image: url(/images/default_bg1.jpg)" itemscope itemtype="http://schema.org/Organization">


    <button class="menu-button animated fade dosearch">
        <i class="icon-search"></i>
    </button>


    <div class="inner">
        <div class="container">
            <a class="brand" href="" role="banner" itemprop="url">

                <img itemprop="logo" src="/images/omikron.png" alt="C1AVIE Logo" />

            <h1 class="blog-title light" itemprop="name">
                C1AVIE
            </h1>
                
            </a>
        </div>
    </div>
    
    
    <div class="decor-wrapper">
        <svg id="header-decor" class="decor bottom" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
            <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

            <path class="medium left" d="M0 100 L50 50 L0 33.3" fill="rgba(255,255,255, .3)"></path>
            <path class="medium right" d="M100 100 L50 50 L100 33.3" fill="rgba(255,255,255, .3)"></path>

            <path class="small left" d="M0 100 L50 50 L0 66.6" fill="rgba(255,255,255, .5)"></path>
            <path class="small right" d="M100 100 L50 50 L100 66.6" fill="rgba(255,255,255, .5)"></path>

            <path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path>

            <path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path>

        </svg>
    </div>
    
</header>
<div id="main" class="content" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
    <div class="container">
        <div class="row">
            <article class="post col-md-8 col-md-offset-2 hentry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
            
            
            
            
            
                    <header class="post-header entry-header">
                    
                        
                        <h1 class="post-title text-center hyper lighter bordered-bottom entry-title" itemprop="headline">js&&time</h1>
                        
                        <div class="cursive" style="color: #000; font-style:italic;"></div>
                        <div class="post-info text-center small">
                            <span class="entry-date date published updated"><time datetime="2013-06-13T02:22:28-04:00" class="post-time" itemprop="datePublished">13 Jun 2013</time><span>
                            in <span class="post-tags"><a href="/categories/index.html#fe" data-toggle="tooltip" title="Other posts from the Fe category" rel="tag">Fe</a></span>&nbsp;<span class="post-tags"><i class="icon-time"></i>&nbsp;1 minute read</span>
                        </div>
                    </header>
                    <div class="post-body bordered-bottom" itemprop="description">
                        
                        <p>线上测试地址：http://uctest.ucweb.com:10070/c1avie/test/time.html<br />
具体实现效果：今天是6月13日 星期四 第16周</p>
<p>定义一些变量，具体就不多说了。<br />
            var d = new Date(),<br />
		year = d.getFullYear(),<br />
	 	month = d.getMonth(),<br />
	 	week = d.getDay(),<br />
	 	day = d.getDate(),<br />
		monthDay = new Array(31,28,31,30,31,30,31,31,30,31,30,31),<br />
		weekDay = "",<br />
		isLeapYear = false;  //是否为闰年</p>
<p>将数字转换为汉字，因此用了一个switch的转换<br />
	switch(week) {<br />
		case 0:<br />
			weekDay = "日";<br />
			break;<br />
		case 1:<br />
			weekDay = "一";<br />
			break;<br />
		case 2:<br />
			weekDay = "二";<br />
			break;<br />
		case 3:<br />
			weekDay = "三";<br />
			break;<br />
		case 4:<br />
			weekDay = "四";<br />
			break;<br />
		case 5:<br />
			weekDay = "五";<br />
			break;<br />
		case 6:<br />
			weekDay = "六";<br />
			break;<br />
	}</p>
<p>判断是否为闰年，大家应该都不陌生吧<br />
	if( ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0) ) {<br />
		isLeapYear = true;<br />
	}</p>
<p>循环计算天数<br />
	function getCurrentDay(theMonth,theDay) {<br />
		var currentDay = 0;<br />
		for(var i = 0;i < monthDay.length;i++) {<br />
			if(i < theMonth) {<br />
				if(isLeapYear && i == 1) {<br />
					currentDay = currentDay + 29;<br />
				}<br />
				else {<br />
					currentDay = currentDay + monthDay[i];<br />
				}<br />
			}<br />
			if(i == theMonth) {<br />
				currentDay = currentDay + theDay;<br />
			}<br />
		}<br />
		return currentDay;<br />
	}</p>
<p>我们学校忘记是什么时候开学的了，大致记得是2.24开始的第一周，因此这里是把3.24之前的天数减去<br />
var nowDay = getCurrentDay(month,day),<br />
	    initialDay = getCurrentDay(1,23),<br />
	    weekYear = parseInt((nowDay - initialDay) / 7);<br />
	if(week != 6) {<br />
		weekYear = weekYear + 1;<br />
	}<br />
	var today = document.getElementById("today");<br />
	today.innerHTML = "今天是" + (month + 1) + "月" + day + "日" + "<span style="margin-left: 15px;">" + "星期" + weekDay + "</span>" + "<span style="margin-left: 15px;">" + "第" + weekYear + "周" + "</span>";<br />
其实我是想算农历的，但是不知道阳历与农历的转换算法，只好作罢。</p>

                        <br>
                    
                    
                    </div>
        </div>
                    <footer class="post-footer entry-meta">
                        <div class="post-share text-center">
    <p class="light small">
        Share this post
    </p>
    <ul class="social-mini">
        <li>
            <a href="https://twitter.com/intent/tweet?text=&quot;js&&time&quot;%20/fe/jstime%20via%20&#64;c1avie"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" data-toggle="tooltip" title="Share on Twitter" itemprop="Twitter">
                <i class="icon-twitter"></i>
            </a>
        </li>
        <li>
            <a  href="https://www.facebook.com/sharer/sharer.php?u=/fe/jstime"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" data-toggle="tooltip" title="Share on Facebook" itemprop="Facebook">
                <i class="icon-facebook"></i>
            </a>
        </li>
        <li>
            <a href="https://plus.google.com/share?url=/fe/jstime"
           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" data-toggle="tooltip" title="Share on Google plus" itemprop="GooglePlus">
                <i class="icon-google-plus"></i>
            </a>
        </li>
    </ul>
</div>
                        <div class="post-author text-center">                       
	        <img src="/images/c1avie.JPG" alt="ZAN NIU's photo" itemprop="image" class="post-avatar img-circle img-responsive"/>    
	    <h4 class="bordered-bottom vcard author" itemprop="author" itemscope itemtype="http://schema.org/Person">By <span itemprop="name" class="fn"><a href="/about" title="About ZAN NIU" itemprop="url">ZAN NIU</a></span></h4>
	    <p>this is c1avie.</p>
</div> 
                        
                    </footer>
            </article>
    </div>
</div>

<footer id="footer"  class="blog-background overlay text-center align-middle animated from-top" style="background-image: url(/images/default_bg1.jpg)" >


    <div class="inner">
        <div class="container">

            <ul class="social-icons">
            <li>
                <a href="http://twitter.com/c1avie" data-toggle="tooltip" title="ZAN NIU on Twitter" target="_blank">
                    <i class="icon-twitter"></i>
                </a>
            </li>
            <li>
                <a href="http://facebook.com/c1avie" data-toggle="tooltip" title="ZAN NIU on Facebook" target="_blank">
                    <i class="icon-facebook"></i>
                </a>
            </li>
            
            <li>
                <a href="http://www.zhihu.com/people/niu-zan" data-toggle="tooltip" title="ZAN NIU on StackExchange" target="_blank">
                    <i class="icon-stackexchange"></i>
                </a>
            </li>
            <li>
                <a href="http://weibo.com/2433412043/" data-toggle="tooltip" title="ZAN NIU on LinkedIn" target="_blank">
                    <i class="icon-linkedin"></i>
                </a>
            </li>
            
            
            <li>
                <a href="http://github.com/c1avie" data-toggle="tooltip" title="ZAN NIU on Github" target="_blank">
                    <i class="icon-github"></i>
                </a>
            </li>
        </ul>
            <div>
                <a href="/about/">ZAN NIU</a> &copy; 2014 &bull; All rights reserved.
            </div>
            <ul class="menu-items">
            
            <li>
                
                    <a href="/"><i class="icon-home"></i></a>&nbsp;
                 
            </li>
            
            <li>
                
                    <a href="/categories">Categories</a>&nbsp;
                 
            </li>
            
            <li>
                
                    <a href="/tags">Tags</a>&nbsp;
                 
            </li>
            
            <li>
                
                    <a href="/about-me">c1avie who?</a>&nbsp;
                 
            </li>
            
        </ul>
        </div>
    </div>
    
        <div class="decor-wrapper">
            <svg id="footer-decor" class="decor top" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">

                <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
                <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

                <path class="medium left" d="M0 0 L50 50 L0 66.6" fill="rgba(255,255,255, .3)"></path>
                <path class="medium right" d="M100 0 L50 50 L100 66.6" fill="rgba(255,255,255, .3)"></path>

                <path class="small left" d="M0 0 L50 50 L0 33.3" fill="rgba(255,255,255, .5)"></path>
                <path class="small right" d="M100 0 L50 50 L100 33.3" fill="rgba(255,255,255, .5)"></path>

                <path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path>

                <path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path>

            </svg>
        </div>
    
</footer>

    
<script type="text/javascript" src="/assets/js/vendor/jquery-1.9.1.min.js"></script>
<script src="/assets/js/scripts.min.js"></script>
<script type="text/javascript" src="/assets/js/waypoints.min.js"></script>
<script type="text/javascript" src="/assets/js/script.js"></script>
<script type='text/javascript'>$(document).ready(function(){$(".time").text(function(a,b){return Math.round(parseFloat(b))})});</script>

<script type="text/javascript">

/*      Slides       */

$("a#slide").click(function(){
    $("#sidebar,body,a#slide,#fade").addClass("slide")
});

$("#fade,#header,#posts-container").click(function(){
    $("#sidebar,body,a#slide,#fade").removeClass("slide")
});

$("a#click-filter").click(function(){
    $("#slide-filter").slideToggle("medium");
    $("#slide-pages").slideOut("medium");
});

$("a#click-pages").click(function(){
    $("#slide-pages").slideToggle("medium");
    $("#slide-filter").slideOut("medium");
});

/*      End-Slides      */

</script>


<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').simpleJekyllSearch({
          jsonFile : '/search.json',
          searchResults : '.search-results',
          template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {
    
     var bs = {
          close: $(".icon-remove-sign"),
          searchform: $(".search-form"),
          canvas: $("body"),
          dothis: $('.dosearch')
      };
    
    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('search-overlay');
    });
    
      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('search-overlay');
    });
  })( jQuery, window );
</script>


 
</body>
</html>
